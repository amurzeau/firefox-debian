From: Mike Hommey <mh@glandium.org>
Date: Wed, 6 Oct 2021 10:02:43 +0900
Subject: Work around the lack of resolver feature in unstable's cargo

---
 Cargo.lock                                    | 22 -------------------
 Cargo.toml                                    |  4 ----
 third_party/rust/naga/.cargo-checksum.json    |  2 +-
 third_party/rust/naga/Cargo.toml              |  1 -
 .../rust/wgpu-core/.cargo-checksum.json       |  2 +-
 third_party/rust/wgpu-core/Cargo.toml         |  7 ------
 6 files changed, 2 insertions(+), 36 deletions(-)

diff --git a/Cargo.lock b/Cargo.lock
index ad2322d..b383947 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -1052,17 +1052,6 @@ dependencies = [
  "pkg-config",
 ]
 
-[[package]]
-name = "d3d12"
-version = "0.4.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "2daefd788d1e96e0a9d66dee4b828b883509bc3ea9ce30665f04c3246372690c"
-dependencies = [
- "bitflags",
- "libloading 0.7.0",
- "winapi",
-]
-
 [[package]]
 name = "darling"
 version = "0.10.2"
@@ -3987,12 +3976,6 @@ dependencies = [
  "rand_core",
 ]
 
-[[package]]
-name = "range-alloc"
-version = "0.1.2"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "63e935c45e09cc6dcf00d2f0b2d630a58f4095320223d47fc68918722f0538b6"
-
 [[package]]
 name = "raw-window-handle"
 version = "0.3.3"
@@ -5616,12 +5599,8 @@ source = "git+https://github.com/kvark/wgpu?branch=gecko-beta-solaris#5a3a555b56
 dependencies = [
  "arrayvec 0.7.1",
  "ash",
- "bit-set",
  "bitflags",
- "block",
  "core-graphics-types",
- "d3d12",
- "foreign-types",
  "fxhash",
  "glow",
  "gpu-alloc",
@@ -5634,7 +5613,6 @@ dependencies = [
  "naga",
  "objc",
  "parking_lot",
- "range-alloc",
  "raw-window-handle",
  "renderdoc-sys",
  "thiserror",
diff --git a/Cargo.toml b/Cargo.toml
index a333f21..1d8e28b 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -42,10 +42,6 @@ exclude = [
   "tools/fuzzing/rust",
 ]
 
-# Use the new dependency resolver to reduce some of the platform-specific dependencies.
-# This is required for 'third_party/rust/wgpu-hal'
-resolver = "2"
-
 # Explicitly specify what our profiles use.  The opt-level setting here is
 # a total fiction; see the setup of MOZ_RUST_DEFAULT_FLAGS for what the
 # opt-level setting will be as a result of various other configure flags.
diff --git a/third_party/rust/naga/.cargo-checksum.json b/third_party/rust/naga/.cargo-checksum.json
index 8c381c1..8e58a26 100644
--- a/third_party/rust/naga/.cargo-checksum.json
+++ b/third_party/rust/naga/.cargo-checksum.json
@@ -1 +1 @@
-{"files":{".github/workflows/lazy.yml":"a7e61ef07c49bc7604d87e514e1c1ef18b05b1cdb9abd722a32d0a8e24784ed0",".github/workflows/pipeline.yml":"0bfce7c57b2cedbd052742f2f108efef89dcc1bea64d2ae6f8e7f4095220ffb1",".github/workflows/validation-linux.yml":"2c46b4b96adb90e7520af0b5d584431b6ace6ac333136fcc39675723fc03f023",".github/workflows/validation-macos.yml":"ace910e819b4b7f4c3bcef0f6b8109bdf9fa817806b125605bd5f860c375d77e",".github/workflows/validation-windows.yml":"3717d69c8c21b379a40a6ff5a19dff18f06c56b767b3884565ecda0ddbe54493",".monocodus":"9be77868b35e2af7e3da0e95f7b3282ca573cd19cbec20c6a6a30435ce6d58c2","CHANGELOG.md":"06b0e55c66aff4bfa3fb3b99c23369db49648340c37417b3bb3badd00b076993","Cargo.toml":"797fea778ba4f8e52489c9a4b87a15210a3809857cb6d2a88870c5b8928cbe63","LICENSE-APACHE":"c71d239df91726fc519c6eb72d318ec65820627232b2f796219e87dcf35d0ab4","LICENSE-MIT":"ca3be8518f5ef097669cea882643fc532025f29972def4fda49df885565a0480","Makefile":"2d4f0ec26e216fbdf07adbadc6d22673113df1d9fd88c39bb08cf2b7e33e596b","README.md":"0352d3e04f0f49b0709707f907dc2cb73def0ce4136c8ee3efcf4f8a74038899","src/arena.rs":"d543eacdbc860fed99341a57706f59a94a3c1557914ca56082670e81830bd668","src/back/dot/mod.rs":"d56359b4e85982c64dd06f0fe31f8f0db30596ee9f3a83fede5133663f626aa4","src/back/glsl/features.rs":"48bab0c7ea01f08a04ea77b150dffda454d77b93ff512636596f5d47477fb4ef","src/back/glsl/keywords.rs":"3f23b1e63e99a7056c3b223524d5d37000ef7316ae9df25532a726a1157d1dcd","src/back/glsl/mod.rs":"4e0d964665ca0408cd5e17b465e66a80531b349eb0f30de086352454ea38c545","src/back/hlsl/conv.rs":"4f5cdf2b07a4ccbd37f0e7314c7cd3722beb6ca5be15d817fbb193b07ae77745","src/back/hlsl/help.rs":"1ac3ff475cfe5bbcd73bb44f5e4f401ca3832f2585efb26caaafd5212d37002e","src/back/hlsl/keywords.rs":"d0fdd74bc166da61200d595689d2fbfbaa863d18eda706bb44aee1c2e66f9552","src/back/hlsl/mod.rs":"b98760834c4b1224f7a451ec0a8a76c21cb8eea7d5265f9899fc7a849654d874","src/back/hlsl/storage.rs":"d39e20d51d94ba1160d315eacc0b679d43410c8087f1b4e9909800a74a32d692","src/back/hlsl/writer.rs":"7945882c8349f72adbf44de631c3f3254dbca08908a0628c8c93dff437026429","src/back/mod.rs":"d3b5231068829cbf160bb54cc64f2e0585153de4250bb93ecf09e80a3f17ddf2","src/back/msl/keywords.rs":"0e4a79ac815c931bbf513fbe080e2b5c3d04f005be5e2d8c3f1933b3f9235486","src/back/msl/mod.rs":"40ca5d95b58ed7fe7c65602a96bda30bd4f56b1e70c0061c316d5941293ff391","src/back/msl/sampler.rs":"19a905f5eb11d9dad769b60694d1ed7a16ad36ce92b57f9bf70f0a60cd0df1ee","src/back/msl/writer.rs":"738e29b42c0910a209f67c8f996e1c4392f76699264c73eedb75442f47c494c6","src/back/spv/block.rs":"86d37141b928176dd600c9da6607e95583c540e29a271dff2e680651567e6442","src/back/spv/helpers.rs":"b1750f012070755cfba37c3ec54854a91a50760436e2f547c7c07ef04f1f8df2","src/back/spv/image.rs":"3eeb52bbf25685cccf9a17c658f6e2a8469198247d78368f8cffd46aba95f09e","src/back/spv/index.rs":"6bbe5c15500260d58bd01d96ee7b4301a183cc4e71423d6e59e93b97bbcabfb8","src/back/spv/instructions.rs":"8f802831b909a92c0a25edefd535870a48fa53329631d765dfcac52ad87c4374","src/back/spv/layout.rs":"41b5b8b5c1ca85be27246c0d2393542e971514362a445dd2a984fad7ee49cedb","src/back/spv/mod.rs":"8d0f56d71d8180501972ca83ce8e08b24508a1a9c5211536278fa5e6e35a3029","src/back/spv/recyclable.rs":"e8afff29750035ef7e20d86eb9976b83d26aa8431c93233f5749dfc1933790f5","src/back/spv/selection.rs":"11b54603b909619ac5c1ed35501a583a4594a35e6b06f8110f641bfa49bfcff9","src/back/spv/writer.rs":"3f3947dd72befc27ad3b395e4a9fb41db4466ebf796c248bf7e7f787f10d4690","src/back/wgsl/keywords.rs":"d3e775d961265db10d57060db586e5e584d33a4febb8ef527471cb1c0b6ae5d1","src/back/wgsl/mod.rs":"b10b68220ca8194234d0f1a74b7e36b53ae59522592e279a814e67aec9e52e99","src/back/wgsl/writer.rs":"8f0f2d933e1b8dac157343ac82989c3a180400862774a028c1656f125958c461","src/block.rs":"1db2bd8cf63f68c864ce629bc0f3b49a502c7330f8b915d90dac8e5f567d1a4f","src/front/glsl/ast.rs":"8887e6e373a1d5da75a5ab2ee7b4582821dac2c1a6ddebd353cfb330248c103f","src/front/glsl/builtins.rs":"5f8092345e3a896e28d0fe9ff5f0eb5c558fab1f2589ea33aba6e78dacb29cd8","src/front/glsl/constants.rs":"9ce46498c534b1db1403aacf17631a81824932c6f4c9e3fc343cbd13db55c67e","src/front/glsl/context.rs":"ed129c6ba6f707f23f8a63e3f5f4658b3c369517f9b3da4995410392fc97f529","src/front/glsl/error.rs":"c23dff0abc60efa2b6c9e95676a61db2ba701ba82f1fb8f7eddc2bc694ab9bc1","src/front/glsl/functions.rs":"998979dd84c1d4b21beffd7f60f3e767b7e2985f697c9886395bce8a7c672b0d","src/front/glsl/lex.rs":"e055943db19c454e7bb57f20969cb7becff333bd40443e2a30b82f66fc71d951","src/front/glsl/mod.rs":"e979e1b84c00789f4452822404d3a116d3ac7180d52a29ab72bfb9b5a3996051","src/front/glsl/offset.rs":"e39e41ea81cca18c3f516f989b85d184a9be2015a8c4df8de3a491ef484f28d0","src/front/glsl/parser.rs":"661018ced18d5a717abad23160232e81013d29336f2f3631a4fafd279c911797","src/front/glsl/parser/declarations.rs":"e05256fa44833677aa64e9930f550f1ca2b8e125b823de09f056552af6bf2cd3","src/front/glsl/parser/expressions.rs":"15a9a242a14115cd9ac1b422c7e475e6ec4ab7d5560b48be8f1b8fa760d5c91f","src/front/glsl/parser/functions.rs":"85e8f4088a45e8d2828400fa43cb1725fdd106cbdae3f142654aed2c6f933530","src/front/glsl/parser/types.rs":"38847bb2210a77c0062d82a26aa84f3d7157ab2271b37201b2da18ac10060fd3","src/front/glsl/parser_tests.rs":"e06a5bd4e62b40c4882d94099e111b1fa837216f417f3dcda0888ac54fa60d06","src/front/glsl/token.rs":"942d2ec6e8ad6986296dd41b721113b3d0d42133d75ffe7aefbe81dd76210b0c","src/front/glsl/types.rs":"08f6fe7a665c25eedefd15c44073f86ffe7e0807df6157b657d6fc4e39b6c6b9","src/front/glsl/variables.rs":"f14ad069f8d2cc6225a2209b46958b0c1baae753d63541d450322cd6534563fc","src/front/mod.rs":"dc86ca147ccb7473d9da9ebfe5f11a391ff0303a7904f31ec73d3a7fb0e57f11","src/front/spv/convert.rs":"c8054ef4448df53c62c36ce6b4cc4b109171efb7fc14a0fb864b4bd4e068d140","src/front/spv/error.rs":"fc1f5e3a37cc60962910b9bc54193faf78f4201a87a21ac3e1790a0c0d92d12d","src/front/spv/flow.rs":"e1eb179c4e9f579fea63eeb3496647f2038b0075d9b9814c3f5fd6c5522699fa","src/front/spv/function.rs":"73dea9d26e66ebd62f20db5bb6dfa4938a94d8292073af41328fda6278cb0458","src/front/spv/image.rs":"370bce47656fde19e6a40203dedb874d7cc72900a7592ea1ced43790404dd39f","src/front/spv/mod.rs":"d432c16158d8d762d41f44c1df3dab67e93c24f0bac33ac223827c0268a64ee6","src/front/spv/null.rs":"3e19622f5def9f9f3b6ee4dc18c1d07644e2cbf99271da445ec4f460dde8728f","src/front/wgsl/conv.rs":"5d6182fd4506523908c2113a3111ce7a5cd1be899d1c419cda13c6790027e800","src/front/wgsl/lexer.rs":"47fee3ec4b3ad0c7ef03a6f1adba0b130b293387325ef8aede3aa484e9e74d4c","src/front/wgsl/mod.rs":"d4e3de4b7b0f186b3798feaf1d62de8e8e127ffcaaeb28cb35d7a271fdc8223e","src/front/wgsl/tests.rs":"afd0bd8c0e1db8254feef3b7f422b5e837516c4138cf5d2a66e6967e664d1eef","src/lib.rs":"5d72fb569724b15750a1db8f7028639f4bf31d6c22be18e7a24007d273757961","src/proc/index.rs":"f36a58e38efc51f206c83b9ec1eebc1d7bea534a9813a33b2947058e0adc943d","src/proc/interpolator.rs":"94cd36eefa80bcbeaf58023f13cf44d0172ce0db7faab5dc8560a38405fcbea6","src/proc/layouter.rs":"dd40ebfb486a5a35907750fa95c472d8976b404939164e7ac883a51a1172a19c","src/proc/mod.rs":"ad2ec41a7a51e44641ca5918a277e0983a5c71b00a502ff40c2167678a75ec6c","src/proc/namer.rs":"5dff838bf6a156741aea5fdf87338742bce930522bf3763ac14fc4ee6a05eeaf","src/proc/terminator.rs":"0b47499cdaacc526159d03cc697c6b27185d1a7d806689dd63d97e4d207b91cb","src/proc/typifier.rs":"9507b1d445ba918de9f8b3e62009b8c9d2be0b19196eb6901ed54793a959748b","src/span.rs":"369e635f6b316fe64607d7ff50f4636d7c0e57faa0fe5040dde1b021ef707ae3","src/valid/analyzer.rs":"3c3942a195f6dc3a3ee5d6b6e3a99899fe991498e217a39022466b7a83eab3f6","src/valid/compose.rs":"f8a0cfa702ba9dd0b7167916c6d82bea38486be81d272a3e67905b4913e11974","src/valid/expression.rs":"280d189ee5da82309a92db1f8a2f51758629167eecb178ff2e0ac91119205043","src/valid/function.rs":"fa56a4ed8fd2bf79f312f74f372e25b1be18a6a34f8ef1ee4d9fbf4cb0f6c090","src/valid/interface.rs":"391270b54e60dd16ea081d4f3a0aadf6f267c6be86d66ab85ace31c345f1805c","src/valid/mod.rs":"180537ea1d4e42b94911a44686b306e111d270ab1084f26cba680ca74f1bc326","src/valid/type.rs":"ea2b54cd56d1aedd8e627a4e2ddcec9678760571d6aedd853d739449cd479a21"},"package":null}
\ No newline at end of file
+{"files":{".github/workflows/lazy.yml":"a7e61ef07c49bc7604d87e514e1c1ef18b05b1cdb9abd722a32d0a8e24784ed0",".github/workflows/pipeline.yml":"0bfce7c57b2cedbd052742f2f108efef89dcc1bea64d2ae6f8e7f4095220ffb1",".github/workflows/validation-linux.yml":"2c46b4b96adb90e7520af0b5d584431b6ace6ac333136fcc39675723fc03f023",".github/workflows/validation-macos.yml":"ace910e819b4b7f4c3bcef0f6b8109bdf9fa817806b125605bd5f860c375d77e",".github/workflows/validation-windows.yml":"3717d69c8c21b379a40a6ff5a19dff18f06c56b767b3884565ecda0ddbe54493",".monocodus":"9be77868b35e2af7e3da0e95f7b3282ca573cd19cbec20c6a6a30435ce6d58c2","CHANGELOG.md":"06b0e55c66aff4bfa3fb3b99c23369db49648340c37417b3bb3badd00b076993","Cargo.toml":"02106440b078900686871b3dcf8c72c3fa88071db8705af4e64da4e8bbff1906","LICENSE-APACHE":"c71d239df91726fc519c6eb72d318ec65820627232b2f796219e87dcf35d0ab4","LICENSE-MIT":"ca3be8518f5ef097669cea882643fc532025f29972def4fda49df885565a0480","Makefile":"2d4f0ec26e216fbdf07adbadc6d22673113df1d9fd88c39bb08cf2b7e33e596b","README.md":"0352d3e04f0f49b0709707f907dc2cb73def0ce4136c8ee3efcf4f8a74038899","src/arena.rs":"d543eacdbc860fed99341a57706f59a94a3c1557914ca56082670e81830bd668","src/back/dot/mod.rs":"d56359b4e85982c64dd06f0fe31f8f0db30596ee9f3a83fede5133663f626aa4","src/back/glsl/features.rs":"48bab0c7ea01f08a04ea77b150dffda454d77b93ff512636596f5d47477fb4ef","src/back/glsl/keywords.rs":"3f23b1e63e99a7056c3b223524d5d37000ef7316ae9df25532a726a1157d1dcd","src/back/glsl/mod.rs":"4e0d964665ca0408cd5e17b465e66a80531b349eb0f30de086352454ea38c545","src/back/hlsl/conv.rs":"4f5cdf2b07a4ccbd37f0e7314c7cd3722beb6ca5be15d817fbb193b07ae77745","src/back/hlsl/help.rs":"1ac3ff475cfe5bbcd73bb44f5e4f401ca3832f2585efb26caaafd5212d37002e","src/back/hlsl/keywords.rs":"d0fdd74bc166da61200d595689d2fbfbaa863d18eda706bb44aee1c2e66f9552","src/back/hlsl/mod.rs":"b98760834c4b1224f7a451ec0a8a76c21cb8eea7d5265f9899fc7a849654d874","src/back/hlsl/storage.rs":"d39e20d51d94ba1160d315eacc0b679d43410c8087f1b4e9909800a74a32d692","src/back/hlsl/writer.rs":"7945882c8349f72adbf44de631c3f3254dbca08908a0628c8c93dff437026429","src/back/mod.rs":"d3b5231068829cbf160bb54cc64f2e0585153de4250bb93ecf09e80a3f17ddf2","src/back/msl/keywords.rs":"0e4a79ac815c931bbf513fbe080e2b5c3d04f005be5e2d8c3f1933b3f9235486","src/back/msl/mod.rs":"40ca5d95b58ed7fe7c65602a96bda30bd4f56b1e70c0061c316d5941293ff391","src/back/msl/sampler.rs":"19a905f5eb11d9dad769b60694d1ed7a16ad36ce92b57f9bf70f0a60cd0df1ee","src/back/msl/writer.rs":"738e29b42c0910a209f67c8f996e1c4392f76699264c73eedb75442f47c494c6","src/back/spv/block.rs":"86d37141b928176dd600c9da6607e95583c540e29a271dff2e680651567e6442","src/back/spv/helpers.rs":"b1750f012070755cfba37c3ec54854a91a50760436e2f547c7c07ef04f1f8df2","src/back/spv/image.rs":"3eeb52bbf25685cccf9a17c658f6e2a8469198247d78368f8cffd46aba95f09e","src/back/spv/index.rs":"6bbe5c15500260d58bd01d96ee7b4301a183cc4e71423d6e59e93b97bbcabfb8","src/back/spv/instructions.rs":"8f802831b909a92c0a25edefd535870a48fa53329631d765dfcac52ad87c4374","src/back/spv/layout.rs":"41b5b8b5c1ca85be27246c0d2393542e971514362a445dd2a984fad7ee49cedb","src/back/spv/mod.rs":"8d0f56d71d8180501972ca83ce8e08b24508a1a9c5211536278fa5e6e35a3029","src/back/spv/recyclable.rs":"e8afff29750035ef7e20d86eb9976b83d26aa8431c93233f5749dfc1933790f5","src/back/spv/selection.rs":"11b54603b909619ac5c1ed35501a583a4594a35e6b06f8110f641bfa49bfcff9","src/back/spv/writer.rs":"3f3947dd72befc27ad3b395e4a9fb41db4466ebf796c248bf7e7f787f10d4690","src/back/wgsl/keywords.rs":"d3e775d961265db10d57060db586e5e584d33a4febb8ef527471cb1c0b6ae5d1","src/back/wgsl/mod.rs":"b10b68220ca8194234d0f1a74b7e36b53ae59522592e279a814e67aec9e52e99","src/back/wgsl/writer.rs":"8f0f2d933e1b8dac157343ac82989c3a180400862774a028c1656f125958c461","src/block.rs":"1db2bd8cf63f68c864ce629bc0f3b49a502c7330f8b915d90dac8e5f567d1a4f","src/front/glsl/ast.rs":"8887e6e373a1d5da75a5ab2ee7b4582821dac2c1a6ddebd353cfb330248c103f","src/front/glsl/builtins.rs":"5f8092345e3a896e28d0fe9ff5f0eb5c558fab1f2589ea33aba6e78dacb29cd8","src/front/glsl/constants.rs":"9ce46498c534b1db1403aacf17631a81824932c6f4c9e3fc343cbd13db55c67e","src/front/glsl/context.rs":"ed129c6ba6f707f23f8a63e3f5f4658b3c369517f9b3da4995410392fc97f529","src/front/glsl/error.rs":"c23dff0abc60efa2b6c9e95676a61db2ba701ba82f1fb8f7eddc2bc694ab9bc1","src/front/glsl/functions.rs":"998979dd84c1d4b21beffd7f60f3e767b7e2985f697c9886395bce8a7c672b0d","src/front/glsl/lex.rs":"e055943db19c454e7bb57f20969cb7becff333bd40443e2a30b82f66fc71d951","src/front/glsl/mod.rs":"e979e1b84c00789f4452822404d3a116d3ac7180d52a29ab72bfb9b5a3996051","src/front/glsl/offset.rs":"e39e41ea81cca18c3f516f989b85d184a9be2015a8c4df8de3a491ef484f28d0","src/front/glsl/parser.rs":"661018ced18d5a717abad23160232e81013d29336f2f3631a4fafd279c911797","src/front/glsl/parser/declarations.rs":"e05256fa44833677aa64e9930f550f1ca2b8e125b823de09f056552af6bf2cd3","src/front/glsl/parser/expressions.rs":"15a9a242a14115cd9ac1b422c7e475e6ec4ab7d5560b48be8f1b8fa760d5c91f","src/front/glsl/parser/functions.rs":"85e8f4088a45e8d2828400fa43cb1725fdd106cbdae3f142654aed2c6f933530","src/front/glsl/parser/types.rs":"38847bb2210a77c0062d82a26aa84f3d7157ab2271b37201b2da18ac10060fd3","src/front/glsl/parser_tests.rs":"e06a5bd4e62b40c4882d94099e111b1fa837216f417f3dcda0888ac54fa60d06","src/front/glsl/token.rs":"942d2ec6e8ad6986296dd41b721113b3d0d42133d75ffe7aefbe81dd76210b0c","src/front/glsl/types.rs":"08f6fe7a665c25eedefd15c44073f86ffe7e0807df6157b657d6fc4e39b6c6b9","src/front/glsl/variables.rs":"f14ad069f8d2cc6225a2209b46958b0c1baae753d63541d450322cd6534563fc","src/front/mod.rs":"dc86ca147ccb7473d9da9ebfe5f11a391ff0303a7904f31ec73d3a7fb0e57f11","src/front/spv/convert.rs":"c8054ef4448df53c62c36ce6b4cc4b109171efb7fc14a0fb864b4bd4e068d140","src/front/spv/error.rs":"fc1f5e3a37cc60962910b9bc54193faf78f4201a87a21ac3e1790a0c0d92d12d","src/front/spv/flow.rs":"e1eb179c4e9f579fea63eeb3496647f2038b0075d9b9814c3f5fd6c5522699fa","src/front/spv/function.rs":"73dea9d26e66ebd62f20db5bb6dfa4938a94d8292073af41328fda6278cb0458","src/front/spv/image.rs":"370bce47656fde19e6a40203dedb874d7cc72900a7592ea1ced43790404dd39f","src/front/spv/mod.rs":"d432c16158d8d762d41f44c1df3dab67e93c24f0bac33ac223827c0268a64ee6","src/front/spv/null.rs":"3e19622f5def9f9f3b6ee4dc18c1d07644e2cbf99271da445ec4f460dde8728f","src/front/wgsl/conv.rs":"5d6182fd4506523908c2113a3111ce7a5cd1be899d1c419cda13c6790027e800","src/front/wgsl/lexer.rs":"47fee3ec4b3ad0c7ef03a6f1adba0b130b293387325ef8aede3aa484e9e74d4c","src/front/wgsl/mod.rs":"d4e3de4b7b0f186b3798feaf1d62de8e8e127ffcaaeb28cb35d7a271fdc8223e","src/front/wgsl/tests.rs":"afd0bd8c0e1db8254feef3b7f422b5e837516c4138cf5d2a66e6967e664d1eef","src/lib.rs":"5d72fb569724b15750a1db8f7028639f4bf31d6c22be18e7a24007d273757961","src/proc/index.rs":"f36a58e38efc51f206c83b9ec1eebc1d7bea534a9813a33b2947058e0adc943d","src/proc/interpolator.rs":"94cd36eefa80bcbeaf58023f13cf44d0172ce0db7faab5dc8560a38405fcbea6","src/proc/layouter.rs":"dd40ebfb486a5a35907750fa95c472d8976b404939164e7ac883a51a1172a19c","src/proc/mod.rs":"ad2ec41a7a51e44641ca5918a277e0983a5c71b00a502ff40c2167678a75ec6c","src/proc/namer.rs":"5dff838bf6a156741aea5fdf87338742bce930522bf3763ac14fc4ee6a05eeaf","src/proc/terminator.rs":"0b47499cdaacc526159d03cc697c6b27185d1a7d806689dd63d97e4d207b91cb","src/proc/typifier.rs":"9507b1d445ba918de9f8b3e62009b8c9d2be0b19196eb6901ed54793a959748b","src/span.rs":"369e635f6b316fe64607d7ff50f4636d7c0e57faa0fe5040dde1b021ef707ae3","src/valid/analyzer.rs":"3c3942a195f6dc3a3ee5d6b6e3a99899fe991498e217a39022466b7a83eab3f6","src/valid/compose.rs":"f8a0cfa702ba9dd0b7167916c6d82bea38486be81d272a3e67905b4913e11974","src/valid/expression.rs":"280d189ee5da82309a92db1f8a2f51758629167eecb178ff2e0ac91119205043","src/valid/function.rs":"fa56a4ed8fd2bf79f312f74f372e25b1be18a6a34f8ef1ee4d9fbf4cb0f6c090","src/valid/interface.rs":"391270b54e60dd16ea081d4f3a0aadf6f267c6be86d66ab85ace31c345f1805c","src/valid/mod.rs":"180537ea1d4e42b94911a44686b306e111d270ab1084f26cba680ca74f1bc326","src/valid/type.rs":"ea2b54cd56d1aedd8e627a4e2ddcec9678760571d6aedd853d739449cd479a21"},"package":null}
diff --git a/third_party/rust/naga/Cargo.toml b/third_party/rust/naga/Cargo.toml
index 92f911b..276721d 100644
--- a/third_party/rust/naga/Cargo.toml
+++ b/third_party/rust/naga/Cargo.toml
@@ -9,7 +9,6 @@ repository = "https://github.com/gfx-rs/naga/tree/v0.5"
 keywords = ["shader", "SPIR-V", "GLSL", "MSL"]
 license = "MIT OR Apache-2.0"
 exclude = ["bin/**/*", "tests/**/*", "Cargo.lock", "target/**/*"]
-resolver = "2"
 
 [package.metadata.docs.rs]
 all-features = true
diff --git a/third_party/rust/wgpu-core/.cargo-checksum.json b/third_party/rust/wgpu-core/.cargo-checksum.json
index 86a6114..a115f4e 100644
--- a/third_party/rust/wgpu-core/.cargo-checksum.json
+++ b/third_party/rust/wgpu-core/.cargo-checksum.json
@@ -1 +1 @@
-{"files":{"Cargo.toml":"f7e959d79a39851700eb8c266d7a39279bbd6d5f023de3b3d540d4a5d1147a13","build.rs":"a1f574832b0862cf6294745676a953dfbabc4a91a78c2bf447aeb2ead839a8ab","src/binding_model.rs":"e5afc360244b135da962c0c094a8b93824dd22860536faa19135b20f135af7e4","src/command/bind.rs":"40eb6d1324d0780121c599d040a3d65e4242d8a70a3908336aab63edc5f03a35","src/command/bundle.rs":"bb8ca9092c1cdc3db17cc72bddad340872a223e05c8e5f3591355c7a7aa0c9e5","src/command/clear.rs":"3856705aea634be41eed4b5dc9ccd501474c754ad88e97cf225af0793d80bcd9","src/command/compute.rs":"47d3101ae75a5e002d63e945f11b509c20a2a59392dd1368354c7de0d6bd8f3f","src/command/draw.rs":"3cded37d735637c53041ad363a975754442d8c52f8334b750cec4f40d5b2759b","src/command/mod.rs":"4ad9f5b2e89bcc5b05d9847370de81b45bd0e3ec38cf0e25cfef50210f147035","src/command/query.rs":"18659df22356493697ce1c5b56fe2ca0e2f3f1ef29bdf00d65f064eeecba5130","src/command/render.rs":"e0cc862ee537b75428e79451b50ab833ca6363d743179aef0e175928bb822304","src/command/transfer.rs":"6d888d692c51077b1c207290bb8c12c340be06c674e650c744081637bba910c8","src/conv.rs":"fc529b9b62fa64a2c12e313b8609d4a838e27384382bf3fb5008d3894e8aa034","src/device/life.rs":"66a021c05256af421a7b274c5668945433d50c9abb44587ebc25158ea0440ad7","src/device/mod.rs":"7fd81b4b6a89379cc66a7d987d64e94071947a7df61aace16cde955dc3c8f51c","src/device/queue.rs":"a4cb838b046b3ccae4f27525f5fbb345a5a9f927511d9f1af5edb1b6ae34b5c9","src/device/trace.rs":"56fdcb61f85c712305c8cb3e004e27e6ed4257224769a914317e5ee63cebeea7","src/error.rs":"34a4adbb6ec669d8de22b932363506eeef1b1115c422bcc8daa3b26f62378518","src/hub.rs":"5d3a53bf29ef77e3bccb82cb0716919ce3ce39edfc89a8fb126cb7b00af9e6c4","src/id.rs":"b8a834c2f508b52b581345a68ccd56726296f3e7c36a4b6b77b3d6531084b645","src/init_tracker/buffer.rs":"ccdddaace101f921463bf6c62ed5aca01a6520717a850b5d4442c3551e9f1875","src/init_tracker/mod.rs":"672d446a025115c30330703677eed9ac4756e2ac663bba3449bf77d6e5386194","src/instance.rs":"10f0c02001cbee230894558e31d8c4a8ab9764b7301e835ad6713c31882a480a","src/lib.rs":"9117d7a180c841db3b208ab8f0cff1336400dc87f4b86a6a441d2a46a6894d50","src/macros.rs":"431a61e3a28f9bdef5a593e21d02c39f242ca304b93644ead628a9c64512087c","src/pipeline.rs":"ed5f6696157c670a993a2d633cf0464c9db32197cc0dc32dc0dd4970a76a5cd8","src/present.rs":"f19a95c8f7eac3b99268528798f4f1580ff4c3e7afafb1a5a19a46e192140c10","src/resource.rs":"c17c21338e0537de0b14b5c869a4c71aff2d79680c4b59b536541233790a74d3","src/track/buffer.rs":"27985c5118bd36e80f999483a1c32383220174a6e5ee936ad9f010f7eacf03b0","src/track/mod.rs":"b0e2d8300c70270a27dd2b69c84950d9d9342c13b73b549d34be81ef4002e2b3","src/track/range.rs":"d24340a235103fd18e740236ebfe59b434023bc07abaeebc11c4d7b44057e267","src/track/texture.rs":"f64028e06c215d7dc9d1ac293acbcc40e88b9dbf7eb0e010214f0327d4569794","src/validation.rs":"fd50f9805dc1506e32ba1654dda3ddd09d75ee87f55b60d6a06757c98ef1962a"},"package":null}
\ No newline at end of file
+{"files":{"Cargo.toml":"b504341de770d9d23c886a5985c9ed1cfaa560648742f88345ab04c71fb9eaaa","build.rs":"a1f574832b0862cf6294745676a953dfbabc4a91a78c2bf447aeb2ead839a8ab","src/binding_model.rs":"e5afc360244b135da962c0c094a8b93824dd22860536faa19135b20f135af7e4","src/command/bind.rs":"40eb6d1324d0780121c599d040a3d65e4242d8a70a3908336aab63edc5f03a35","src/command/bundle.rs":"bb8ca9092c1cdc3db17cc72bddad340872a223e05c8e5f3591355c7a7aa0c9e5","src/command/clear.rs":"3856705aea634be41eed4b5dc9ccd501474c754ad88e97cf225af0793d80bcd9","src/command/compute.rs":"47d3101ae75a5e002d63e945f11b509c20a2a59392dd1368354c7de0d6bd8f3f","src/command/draw.rs":"3cded37d735637c53041ad363a975754442d8c52f8334b750cec4f40d5b2759b","src/command/mod.rs":"4ad9f5b2e89bcc5b05d9847370de81b45bd0e3ec38cf0e25cfef50210f147035","src/command/query.rs":"18659df22356493697ce1c5b56fe2ca0e2f3f1ef29bdf00d65f064eeecba5130","src/command/render.rs":"e0cc862ee537b75428e79451b50ab833ca6363d743179aef0e175928bb822304","src/command/transfer.rs":"6d888d692c51077b1c207290bb8c12c340be06c674e650c744081637bba910c8","src/conv.rs":"fc529b9b62fa64a2c12e313b8609d4a838e27384382bf3fb5008d3894e8aa034","src/device/life.rs":"66a021c05256af421a7b274c5668945433d50c9abb44587ebc25158ea0440ad7","src/device/mod.rs":"7fd81b4b6a89379cc66a7d987d64e94071947a7df61aace16cde955dc3c8f51c","src/device/queue.rs":"a4cb838b046b3ccae4f27525f5fbb345a5a9f927511d9f1af5edb1b6ae34b5c9","src/device/trace.rs":"56fdcb61f85c712305c8cb3e004e27e6ed4257224769a914317e5ee63cebeea7","src/error.rs":"34a4adbb6ec669d8de22b932363506eeef1b1115c422bcc8daa3b26f62378518","src/hub.rs":"5d3a53bf29ef77e3bccb82cb0716919ce3ce39edfc89a8fb126cb7b00af9e6c4","src/id.rs":"b8a834c2f508b52b581345a68ccd56726296f3e7c36a4b6b77b3d6531084b645","src/init_tracker/buffer.rs":"ccdddaace101f921463bf6c62ed5aca01a6520717a850b5d4442c3551e9f1875","src/init_tracker/mod.rs":"672d446a025115c30330703677eed9ac4756e2ac663bba3449bf77d6e5386194","src/instance.rs":"10f0c02001cbee230894558e31d8c4a8ab9764b7301e835ad6713c31882a480a","src/lib.rs":"9117d7a180c841db3b208ab8f0cff1336400dc87f4b86a6a441d2a46a6894d50","src/macros.rs":"431a61e3a28f9bdef5a593e21d02c39f242ca304b93644ead628a9c64512087c","src/pipeline.rs":"ed5f6696157c670a993a2d633cf0464c9db32197cc0dc32dc0dd4970a76a5cd8","src/present.rs":"f19a95c8f7eac3b99268528798f4f1580ff4c3e7afafb1a5a19a46e192140c10","src/resource.rs":"c17c21338e0537de0b14b5c869a4c71aff2d79680c4b59b536541233790a74d3","src/track/buffer.rs":"27985c5118bd36e80f999483a1c32383220174a6e5ee936ad9f010f7eacf03b0","src/track/mod.rs":"b0e2d8300c70270a27dd2b69c84950d9d9342c13b73b549d34be81ef4002e2b3","src/track/range.rs":"d24340a235103fd18e740236ebfe59b434023bc07abaeebc11c4d7b44057e267","src/track/texture.rs":"f64028e06c215d7dc9d1ac293acbcc40e88b9dbf7eb0e010214f0327d4569794","src/validation.rs":"fd50f9805dc1506e32ba1654dda3ddd09d75ee87f55b60d6a06757c98ef1962a"},"package":null}
diff --git a/third_party/rust/wgpu-core/Cargo.toml b/third_party/rust/wgpu-core/Cargo.toml
index 41ad76a..a73b9f3 100644
--- a/third_party/rust/wgpu-core/Cargo.toml
+++ b/third_party/rust/wgpu-core/Cargo.toml
@@ -50,15 +50,8 @@ path = "../wgpu-hal"
 package = "wgpu-hal"
 version = "0.10.1"
 
-[target.'cfg(all(not(target_arch = "wasm32"), any(target_os = "ios", target_os = "macos")))'.dependencies]
-hal = { path = "../wgpu-hal", package = "wgpu-hal", version = "0.10", features = ["metal"] }
-#Note: could also enable "vulkan" for Vulkan Portability
-
 [target.'cfg(all(not(target_arch = "wasm32"), unix, not(target_os = "ios"), not(target_os = "macos")))'.dependencies]
 hal = { path = "../wgpu-hal", package = "wgpu-hal", version = "0.10", features = ["vulkan", "gles", "renderdoc"] }
 
-[target.'cfg(all(not(target_arch = "wasm32"), windows))'.dependencies]
-hal = { path = "../wgpu-hal", package = "wgpu-hal", version = "0.10", features = ["vulkan", "dx12", "renderdoc"] }
-
 [build-dependencies]
 cfg_aliases = "0.1"
