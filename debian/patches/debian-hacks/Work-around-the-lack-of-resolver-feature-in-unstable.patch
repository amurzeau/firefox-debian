From: Mike Hommey <mh@glandium.org>
Date: Wed, 6 Oct 2021 10:02:43 +0900
Subject: Work around the lack of resolver feature in unstable's cargo

---
 Cargo.lock                                    | 22 -------------------
 Cargo.toml                                    |  4 ----
 third_party/rust/naga/.cargo-checksum.json    |  2 +-
 third_party/rust/naga/Cargo.toml              |  1 -
 .../rust/wgpu-core/.cargo-checksum.json       |  2 +-
 third_party/rust/wgpu-core/Cargo.toml         |  7 ------
 6 files changed, 2 insertions(+), 36 deletions(-)

diff --git a/Cargo.lock b/Cargo.lock
index ca24666..fc6c3f6 100644
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -1078,17 +1078,6 @@ dependencies = [
  "pkg-config",
 ]
 
-[[package]]
-name = "d3d12"
-version = "0.4.1"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "2daefd788d1e96e0a9d66dee4b828b883509bc3ea9ce30665f04c3246372690c"
-dependencies = [
- "bitflags",
- "libloading 0.7.0",
- "winapi",
-]
-
 [[package]]
 name = "darling"
 version = "0.10.2"
@@ -4034,12 +4023,6 @@ dependencies = [
  "rand_core",
 ]
 
-[[package]]
-name = "range-alloc"
-version = "0.1.2"
-source = "registry+https://github.com/rust-lang/crates.io-index"
-checksum = "63e935c45e09cc6dcf00d2f0b2d630a58f4095320223d47fc68918722f0538b6"
-
 [[package]]
 name = "raw-window-handle"
 version = "0.3.3"
@@ -5696,12 +5679,8 @@ source = "git+https://github.com/gfx-rs/wgpu?rev=37288a6#37288a657f022ce508f3b1c
 dependencies = [
  "arrayvec 0.7.1",
  "ash",
- "bit-set",
  "bitflags",
- "block",
  "core-graphics-types",
- "d3d12",
- "foreign-types",
  "fxhash",
  "glow",
  "gpu-alloc",
@@ -5714,7 +5693,6 @@ dependencies = [
  "naga",
  "objc",
  "parking_lot",
- "range-alloc",
  "raw-window-handle",
  "renderdoc-sys",
  "thiserror",
diff --git a/Cargo.toml b/Cargo.toml
index 12c4962..b2fa471 100644
--- a/Cargo.toml
+++ b/Cargo.toml
@@ -42,10 +42,6 @@ exclude = [
   "tools/fuzzing/rust",
 ]
 
-# Use the new dependency resolver to reduce some of the platform-specific dependencies.
-# This is required for 'third_party/rust/wgpu-hal'
-resolver = "2"
-
 # Explicitly specify what our profiles use.  The opt-level setting here is
 # a total fiction; see the setup of MOZ_RUST_DEFAULT_FLAGS for what the
 # opt-level setting will be as a result of various other configure flags.
diff --git a/third_party/rust/naga/.cargo-checksum.json b/third_party/rust/naga/.cargo-checksum.json
index d216c15..d223d41 100644
--- a/third_party/rust/naga/.cargo-checksum.json
+++ b/third_party/rust/naga/.cargo-checksum.json
@@ -1 +1 @@
-{"files":{".github/workflows/lazy.yml":"a7e61ef07c49bc7604d87e514e1c1ef18b05b1cdb9abd722a32d0a8e24784ed0",".github/workflows/pipeline.yml":"0bfce7c57b2cedbd052742f2f108efef89dcc1bea64d2ae6f8e7f4095220ffb1",".github/workflows/validation-linux.yml":"2c46b4b96adb90e7520af0b5d584431b6ace6ac333136fcc39675723fc03f023",".github/workflows/validation-macos.yml":"ace910e819b4b7f4c3bcef0f6b8109bdf9fa817806b125605bd5f860c375d77e",".github/workflows/validation-windows.yml":"3717d69c8c21b379a40a6ff5a19dff18f06c56b767b3884565ecda0ddbe54493",".monocodus":"9be77868b35e2af7e3da0e95f7b3282ca573cd19cbec20c6a6a30435ce6d58c2","CHANGELOG.md":"06b0e55c66aff4bfa3fb3b99c23369db49648340c37417b3bb3badd00b076993","Cargo.toml":"bc058bbcb63bb319ab5e55635b0c6efba4eae650abc3461ec7ae95947f64820c","LICENSE-APACHE":"c71d239df91726fc519c6eb72d318ec65820627232b2f796219e87dcf35d0ab4","LICENSE-MIT":"ca3be8518f5ef097669cea882643fc532025f29972def4fda49df885565a0480","Makefile":"2d4f0ec26e216fbdf07adbadc6d22673113df1d9fd88c39bb08cf2b7e33e596b","README.md":"0352d3e04f0f49b0709707f907dc2cb73def0ce4136c8ee3efcf4f8a74038899","src/arena.rs":"d543eacdbc860fed99341a57706f59a94a3c1557914ca56082670e81830bd668","src/back/dot/mod.rs":"d56359b4e85982c64dd06f0fe31f8f0db30596ee9f3a83fede5133663f626aa4","src/back/glsl/features.rs":"48bab0c7ea01f08a04ea77b150dffda454d77b93ff512636596f5d47477fb4ef","src/back/glsl/keywords.rs":"3f23b1e63e99a7056c3b223524d5d37000ef7316ae9df25532a726a1157d1dcd","src/back/glsl/mod.rs":"cbc65998e669fcf8350a520ac124928e85e004f8922fc3da8748a91aec4eb7b9","src/back/hlsl/conv.rs":"006a98aa5d0a2c6e773b7810f086324d200aa40bace2c15f07e14b71b20cb305","src/back/hlsl/help.rs":"a6a2b22c3e9a388771531caedaee1eee0e01dbdd4562ab946d81100dd830e0c6","src/back/hlsl/keywords.rs":"d0fdd74bc166da61200d595689d2fbfbaa863d18eda706bb44aee1c2e66f9552","src/back/hlsl/mod.rs":"f39bda69a86bf02e4bb978f4498ccd8738f00883dfd55c39011da9fa2bd006fd","src/back/hlsl/storage.rs":"e84ff2077f6c54b0e38eb129a33268a7f3ce5c24b417f6b8a8ab6bd17e3e63ef","src/back/hlsl/writer.rs":"7035dde3aca0c6feac2481a01147d7cc76da95fd8019e8081e098b23c3d62232","src/back/mod.rs":"e094e4cc228ee360f3be733f64c301ea7137ffd3bfc3c7c21e855d0ed57accbe","src/back/msl/keywords.rs":"0e4a79ac815c931bbf513fbe080e2b5c3d04f005be5e2d8c3f1933b3f9235486","src/back/msl/mod.rs":"40ca5d95b58ed7fe7c65602a96bda30bd4f56b1e70c0061c316d5941293ff391","src/back/msl/sampler.rs":"19a905f5eb11d9dad769b60694d1ed7a16ad36ce92b57f9bf70f0a60cd0df1ee","src/back/msl/writer.rs":"2e5795f6730b5ea0c57e1246c9926af05c983129ebf0f63fc6c800bb65fea198","src/back/spv/block.rs":"319c4cff1b78f5f4e5f10a4971b060cd23e3bab3d85443c6eb6d7b0cc6f57758","src/back/spv/helpers.rs":"b1750f012070755cfba37c3ec54854a91a50760436e2f547c7c07ef04f1f8df2","src/back/spv/image.rs":"8be8404dde9b9220c24e0b94025b628cbcaf781907427d252f78325f21216e74","src/back/spv/index.rs":"9bb673413d946357c8c9f4a7fa2697adbf1b239b804102bc2d7f5e8820d6923a","src/back/spv/instructions.rs":"171e59ef4e4eb4c7335d8c52f6e52876c46e8414198630a3ff8d1bc328ecf40e","src/back/spv/layout.rs":"41b5b8b5c1ca85be27246c0d2393542e971514362a445dd2a984fad7ee49cedb","src/back/spv/mod.rs":"eaebc967006b2327d15376943f5af72693727ba3dbe355b63d19f38fea8a8103","src/back/spv/recyclable.rs":"e8afff29750035ef7e20d86eb9976b83d26aa8431c93233f5749dfc1933790f5","src/back/spv/selection.rs":"11b54603b909619ac5c1ed35501a583a4594a35e6b06f8110f641bfa49bfcff9","src/back/spv/writer.rs":"51a8d38070b0017de527ab28bcd5b4189cd8d5a582a8ed5552703ec57d439621","src/back/wgsl/keywords.rs":"d3e775d961265db10d57060db586e5e584d33a4febb8ef527471cb1c0b6ae5d1","src/back/wgsl/mod.rs":"061c55c5cc8de6fa1886c6f205e1912a6b4b351f89f63a241dc4f4c1d28d3940","src/back/wgsl/writer.rs":"ab6da48fa2e202718482ef8a6806d6824e2398a205046fbea8aa7fe86ed001a2","src/block.rs":"1db2bd8cf63f68c864ce629bc0f3b49a502c7330f8b915d90dac8e5f567d1a4f","src/front/glsl/ast.rs":"8887e6e373a1d5da75a5ab2ee7b4582821dac2c1a6ddebd353cfb330248c103f","src/front/glsl/builtins.rs":"5f8092345e3a896e28d0fe9ff5f0eb5c558fab1f2589ea33aba6e78dacb29cd8","src/front/glsl/constants.rs":"9ce46498c534b1db1403aacf17631a81824932c6f4c9e3fc343cbd13db55c67e","src/front/glsl/context.rs":"ed129c6ba6f707f23f8a63e3f5f4658b3c369517f9b3da4995410392fc97f529","src/front/glsl/error.rs":"c23dff0abc60efa2b6c9e95676a61db2ba701ba82f1fb8f7eddc2bc694ab9bc1","src/front/glsl/functions.rs":"e7e8a1d16213fadabb97a9027ebf475a1ea0478eb8a694164ee353745a937810","src/front/glsl/lex.rs":"e055943db19c454e7bb57f20969cb7becff333bd40443e2a30b82f66fc71d951","src/front/glsl/mod.rs":"e979e1b84c00789f4452822404d3a116d3ac7180d52a29ab72bfb9b5a3996051","src/front/glsl/offset.rs":"48bec2fe51cc0c72c074da503aa8a95865a3b0539b40c5caca9bfcb6fffa5818","src/front/glsl/parser.rs":"661018ced18d5a717abad23160232e81013d29336f2f3631a4fafd279c911797","src/front/glsl/parser/declarations.rs":"d40df0244945fd84dc33018a9463310de56e78c82a9ba6143d229937bda00080","src/front/glsl/parser/expressions.rs":"15a9a242a14115cd9ac1b422c7e475e6ec4ab7d5560b48be8f1b8fa760d5c91f","src/front/glsl/parser/functions.rs":"3bb7be2895274fad4a01ac731195fdf2e186592541240210089ffabf6fb51b1c","src/front/glsl/parser/types.rs":"38847bb2210a77c0062d82a26aa84f3d7157ab2271b37201b2da18ac10060fd3","src/front/glsl/parser_tests.rs":"e06a5bd4e62b40c4882d94099e111b1fa837216f417f3dcda0888ac54fa60d06","src/front/glsl/token.rs":"942d2ec6e8ad6986296dd41b721113b3d0d42133d75ffe7aefbe81dd76210b0c","src/front/glsl/types.rs":"08f6fe7a665c25eedefd15c44073f86ffe7e0807df6157b657d6fc4e39b6c6b9","src/front/glsl/variables.rs":"f14ad069f8d2cc6225a2209b46958b0c1baae753d63541d450322cd6534563fc","src/front/mod.rs":"632eda3e500365a613e7495c8ecb5b246e5cd8dc8200ad48571de693396a0385","src/front/spv/convert.rs":"c8054ef4448df53c62c36ce6b4cc4b109171efb7fc14a0fb864b4bd4e068d140","src/front/spv/error.rs":"fc1f5e3a37cc60962910b9bc54193faf78f4201a87a21ac3e1790a0c0d92d12d","src/front/spv/flow.rs":"e1eb179c4e9f579fea63eeb3496647f2038b0075d9b9814c3f5fd6c5522699fa","src/front/spv/function.rs":"73dea9d26e66ebd62f20db5bb6dfa4938a94d8292073af41328fda6278cb0458","src/front/spv/image.rs":"148d5e94e37c480ecd69b78ea32143cc0ca5ebb20ee26a997d9a5f640c3fb4b5","src/front/spv/mod.rs":"f60e5ee12a2eaa3640420a4fb2d7199ff747233435d76ec23291d757c2abaa8a","src/front/spv/null.rs":"3e19622f5def9f9f3b6ee4dc18c1d07644e2cbf99271da445ec4f460dde8728f","src/front/wgsl/conv.rs":"5d6182fd4506523908c2113a3111ce7a5cd1be899d1c419cda13c6790027e800","src/front/wgsl/lexer.rs":"f4ebca39a5c73ce8a43e12d2864f7f93f5c5fa1d4ca2c805fc53d2ee493d20f9","src/front/wgsl/mod.rs":"8574e28b04ab6bd350292e6fbae7279110ea7a466fd87d0f75bb81fda788b1e7","src/front/wgsl/number_literals.rs":"76a807f2464661388af1031be69abbc075c135d8781b4dafc24f8b21b56aa184","src/front/wgsl/tests.rs":"4a0fb6ec15bb795899925c0c99021c1ce7434f18a52495542f19300e28533c23","src/lib.rs":"727e64c7d045756efb431514c9200c2a7582c38d0ba1b56181c38c32bd3c9e80","src/proc/index.rs":"f36a58e38efc51f206c83b9ec1eebc1d7bea534a9813a33b2947058e0adc943d","src/proc/interpolator.rs":"94cd36eefa80bcbeaf58023f13cf44d0172ce0db7faab5dc8560a38405fcbea6","src/proc/layouter.rs":"dd40ebfb486a5a35907750fa95c472d8976b404939164e7ac883a51a1172a19c","src/proc/mod.rs":"ad2ec41a7a51e44641ca5918a277e0983a5c71b00a502ff40c2167678a75ec6c","src/proc/namer.rs":"5dff838bf6a156741aea5fdf87338742bce930522bf3763ac14fc4ee6a05eeaf","src/proc/terminator.rs":"0b47499cdaacc526159d03cc697c6b27185d1a7d806689dd63d97e4d207b91cb","src/proc/typifier.rs":"9507b1d445ba918de9f8b3e62009b8c9d2be0b19196eb6901ed54793a959748b","src/span.rs":"369e635f6b316fe64607d7ff50f4636d7c0e57faa0fe5040dde1b021ef707ae3","src/valid/analyzer.rs":"3c3942a195f6dc3a3ee5d6b6e3a99899fe991498e217a39022466b7a83eab3f6","src/valid/compose.rs":"f8a0cfa702ba9dd0b7167916c6d82bea38486be81d272a3e67905b4913e11974","src/valid/expression.rs":"280d189ee5da82309a92db1f8a2f51758629167eecb178ff2e0ac91119205043","src/valid/function.rs":"fa56a4ed8fd2bf79f312f74f372e25b1be18a6a34f8ef1ee4d9fbf4cb0f6c090","src/valid/interface.rs":"391270b54e60dd16ea081d4f3a0aadf6f267c6be86d66ab85ace31c345f1805c","src/valid/mod.rs":"554b5479686f308c999c57e6a9dc91b19d12df15995b9cf9913590517cb79aba","src/valid/type.rs":"ea2b54cd56d1aedd8e627a4e2ddcec9678760571d6aedd853d739449cd479a21"},"package":null}
\ No newline at end of file
+{"files":{".github/workflows/lazy.yml":"a7e61ef07c49bc7604d87e514e1c1ef18b05b1cdb9abd722a32d0a8e24784ed0",".github/workflows/pipeline.yml":"0bfce7c57b2cedbd052742f2f108efef89dcc1bea64d2ae6f8e7f4095220ffb1",".github/workflows/validation-linux.yml":"2c46b4b96adb90e7520af0b5d584431b6ace6ac333136fcc39675723fc03f023",".github/workflows/validation-macos.yml":"ace910e819b4b7f4c3bcef0f6b8109bdf9fa817806b125605bd5f860c375d77e",".github/workflows/validation-windows.yml":"3717d69c8c21b379a40a6ff5a19dff18f06c56b767b3884565ecda0ddbe54493",".monocodus":"9be77868b35e2af7e3da0e95f7b3282ca573cd19cbec20c6a6a30435ce6d58c2","CHANGELOG.md":"06b0e55c66aff4bfa3fb3b99c23369db49648340c37417b3bb3badd00b076993","Cargo.toml":"6bb39104d4537539456662e505374b7b6916cb69bb5c197344661576cae45d48","LICENSE-APACHE":"c71d239df91726fc519c6eb72d318ec65820627232b2f796219e87dcf35d0ab4","LICENSE-MIT":"ca3be8518f5ef097669cea882643fc532025f29972def4fda49df885565a0480","Makefile":"2d4f0ec26e216fbdf07adbadc6d22673113df1d9fd88c39bb08cf2b7e33e596b","README.md":"0352d3e04f0f49b0709707f907dc2cb73def0ce4136c8ee3efcf4f8a74038899","src/arena.rs":"d543eacdbc860fed99341a57706f59a94a3c1557914ca56082670e81830bd668","src/back/dot/mod.rs":"d56359b4e85982c64dd06f0fe31f8f0db30596ee9f3a83fede5133663f626aa4","src/back/glsl/features.rs":"48bab0c7ea01f08a04ea77b150dffda454d77b93ff512636596f5d47477fb4ef","src/back/glsl/keywords.rs":"3f23b1e63e99a7056c3b223524d5d37000ef7316ae9df25532a726a1157d1dcd","src/back/glsl/mod.rs":"cbc65998e669fcf8350a520ac124928e85e004f8922fc3da8748a91aec4eb7b9","src/back/hlsl/conv.rs":"006a98aa5d0a2c6e773b7810f086324d200aa40bace2c15f07e14b71b20cb305","src/back/hlsl/help.rs":"a6a2b22c3e9a388771531caedaee1eee0e01dbdd4562ab946d81100dd830e0c6","src/back/hlsl/keywords.rs":"d0fdd74bc166da61200d595689d2fbfbaa863d18eda706bb44aee1c2e66f9552","src/back/hlsl/mod.rs":"f39bda69a86bf02e4bb978f4498ccd8738f00883dfd55c39011da9fa2bd006fd","src/back/hlsl/storage.rs":"e84ff2077f6c54b0e38eb129a33268a7f3ce5c24b417f6b8a8ab6bd17e3e63ef","src/back/hlsl/writer.rs":"7035dde3aca0c6feac2481a01147d7cc76da95fd8019e8081e098b23c3d62232","src/back/mod.rs":"e094e4cc228ee360f3be733f64c301ea7137ffd3bfc3c7c21e855d0ed57accbe","src/back/msl/keywords.rs":"0e4a79ac815c931bbf513fbe080e2b5c3d04f005be5e2d8c3f1933b3f9235486","src/back/msl/mod.rs":"40ca5d95b58ed7fe7c65602a96bda30bd4f56b1e70c0061c316d5941293ff391","src/back/msl/sampler.rs":"19a905f5eb11d9dad769b60694d1ed7a16ad36ce92b57f9bf70f0a60cd0df1ee","src/back/msl/writer.rs":"2e5795f6730b5ea0c57e1246c9926af05c983129ebf0f63fc6c800bb65fea198","src/back/spv/block.rs":"319c4cff1b78f5f4e5f10a4971b060cd23e3bab3d85443c6eb6d7b0cc6f57758","src/back/spv/helpers.rs":"b1750f012070755cfba37c3ec54854a91a50760436e2f547c7c07ef04f1f8df2","src/back/spv/image.rs":"8be8404dde9b9220c24e0b94025b628cbcaf781907427d252f78325f21216e74","src/back/spv/index.rs":"9bb673413d946357c8c9f4a7fa2697adbf1b239b804102bc2d7f5e8820d6923a","src/back/spv/instructions.rs":"171e59ef4e4eb4c7335d8c52f6e52876c46e8414198630a3ff8d1bc328ecf40e","src/back/spv/layout.rs":"41b5b8b5c1ca85be27246c0d2393542e971514362a445dd2a984fad7ee49cedb","src/back/spv/mod.rs":"eaebc967006b2327d15376943f5af72693727ba3dbe355b63d19f38fea8a8103","src/back/spv/recyclable.rs":"e8afff29750035ef7e20d86eb9976b83d26aa8431c93233f5749dfc1933790f5","src/back/spv/selection.rs":"11b54603b909619ac5c1ed35501a583a4594a35e6b06f8110f641bfa49bfcff9","src/back/spv/writer.rs":"51a8d38070b0017de527ab28bcd5b4189cd8d5a582a8ed5552703ec57d439621","src/back/wgsl/keywords.rs":"d3e775d961265db10d57060db586e5e584d33a4febb8ef527471cb1c0b6ae5d1","src/back/wgsl/mod.rs":"061c55c5cc8de6fa1886c6f205e1912a6b4b351f89f63a241dc4f4c1d28d3940","src/back/wgsl/writer.rs":"ab6da48fa2e202718482ef8a6806d6824e2398a205046fbea8aa7fe86ed001a2","src/block.rs":"1db2bd8cf63f68c864ce629bc0f3b49a502c7330f8b915d90dac8e5f567d1a4f","src/front/glsl/ast.rs":"8887e6e373a1d5da75a5ab2ee7b4582821dac2c1a6ddebd353cfb330248c103f","src/front/glsl/builtins.rs":"5f8092345e3a896e28d0fe9ff5f0eb5c558fab1f2589ea33aba6e78dacb29cd8","src/front/glsl/constants.rs":"9ce46498c534b1db1403aacf17631a81824932c6f4c9e3fc343cbd13db55c67e","src/front/glsl/context.rs":"ed129c6ba6f707f23f8a63e3f5f4658b3c369517f9b3da4995410392fc97f529","src/front/glsl/error.rs":"c23dff0abc60efa2b6c9e95676a61db2ba701ba82f1fb8f7eddc2bc694ab9bc1","src/front/glsl/functions.rs":"e7e8a1d16213fadabb97a9027ebf475a1ea0478eb8a694164ee353745a937810","src/front/glsl/lex.rs":"e055943db19c454e7bb57f20969cb7becff333bd40443e2a30b82f66fc71d951","src/front/glsl/mod.rs":"e979e1b84c00789f4452822404d3a116d3ac7180d52a29ab72bfb9b5a3996051","src/front/glsl/offset.rs":"48bec2fe51cc0c72c074da503aa8a95865a3b0539b40c5caca9bfcb6fffa5818","src/front/glsl/parser.rs":"661018ced18d5a717abad23160232e81013d29336f2f3631a4fafd279c911797","src/front/glsl/parser/declarations.rs":"d40df0244945fd84dc33018a9463310de56e78c82a9ba6143d229937bda00080","src/front/glsl/parser/expressions.rs":"15a9a242a14115cd9ac1b422c7e475e6ec4ab7d5560b48be8f1b8fa760d5c91f","src/front/glsl/parser/functions.rs":"3bb7be2895274fad4a01ac731195fdf2e186592541240210089ffabf6fb51b1c","src/front/glsl/parser/types.rs":"38847bb2210a77c0062d82a26aa84f3d7157ab2271b37201b2da18ac10060fd3","src/front/glsl/parser_tests.rs":"e06a5bd4e62b40c4882d94099e111b1fa837216f417f3dcda0888ac54fa60d06","src/front/glsl/token.rs":"942d2ec6e8ad6986296dd41b721113b3d0d42133d75ffe7aefbe81dd76210b0c","src/front/glsl/types.rs":"08f6fe7a665c25eedefd15c44073f86ffe7e0807df6157b657d6fc4e39b6c6b9","src/front/glsl/variables.rs":"f14ad069f8d2cc6225a2209b46958b0c1baae753d63541d450322cd6534563fc","src/front/mod.rs":"632eda3e500365a613e7495c8ecb5b246e5cd8dc8200ad48571de693396a0385","src/front/spv/convert.rs":"c8054ef4448df53c62c36ce6b4cc4b109171efb7fc14a0fb864b4bd4e068d140","src/front/spv/error.rs":"fc1f5e3a37cc60962910b9bc54193faf78f4201a87a21ac3e1790a0c0d92d12d","src/front/spv/flow.rs":"e1eb179c4e9f579fea63eeb3496647f2038b0075d9b9814c3f5fd6c5522699fa","src/front/spv/function.rs":"73dea9d26e66ebd62f20db5bb6dfa4938a94d8292073af41328fda6278cb0458","src/front/spv/image.rs":"148d5e94e37c480ecd69b78ea32143cc0ca5ebb20ee26a997d9a5f640c3fb4b5","src/front/spv/mod.rs":"f60e5ee12a2eaa3640420a4fb2d7199ff747233435d76ec23291d757c2abaa8a","src/front/spv/null.rs":"3e19622f5def9f9f3b6ee4dc18c1d07644e2cbf99271da445ec4f460dde8728f","src/front/wgsl/conv.rs":"5d6182fd4506523908c2113a3111ce7a5cd1be899d1c419cda13c6790027e800","src/front/wgsl/lexer.rs":"f4ebca39a5c73ce8a43e12d2864f7f93f5c5fa1d4ca2c805fc53d2ee493d20f9","src/front/wgsl/mod.rs":"8574e28b04ab6bd350292e6fbae7279110ea7a466fd87d0f75bb81fda788b1e7","src/front/wgsl/number_literals.rs":"76a807f2464661388af1031be69abbc075c135d8781b4dafc24f8b21b56aa184","src/front/wgsl/tests.rs":"4a0fb6ec15bb795899925c0c99021c1ce7434f18a52495542f19300e28533c23","src/lib.rs":"727e64c7d045756efb431514c9200c2a7582c38d0ba1b56181c38c32bd3c9e80","src/proc/index.rs":"f36a58e38efc51f206c83b9ec1eebc1d7bea534a9813a33b2947058e0adc943d","src/proc/interpolator.rs":"94cd36eefa80bcbeaf58023f13cf44d0172ce0db7faab5dc8560a38405fcbea6","src/proc/layouter.rs":"dd40ebfb486a5a35907750fa95c472d8976b404939164e7ac883a51a1172a19c","src/proc/mod.rs":"ad2ec41a7a51e44641ca5918a277e0983a5c71b00a502ff40c2167678a75ec6c","src/proc/namer.rs":"5dff838bf6a156741aea5fdf87338742bce930522bf3763ac14fc4ee6a05eeaf","src/proc/terminator.rs":"0b47499cdaacc526159d03cc697c6b27185d1a7d806689dd63d97e4d207b91cb","src/proc/typifier.rs":"9507b1d445ba918de9f8b3e62009b8c9d2be0b19196eb6901ed54793a959748b","src/span.rs":"369e635f6b316fe64607d7ff50f4636d7c0e57faa0fe5040dde1b021ef707ae3","src/valid/analyzer.rs":"3c3942a195f6dc3a3ee5d6b6e3a99899fe991498e217a39022466b7a83eab3f6","src/valid/compose.rs":"f8a0cfa702ba9dd0b7167916c6d82bea38486be81d272a3e67905b4913e11974","src/valid/expression.rs":"280d189ee5da82309a92db1f8a2f51758629167eecb178ff2e0ac91119205043","src/valid/function.rs":"fa56a4ed8fd2bf79f312f74f372e25b1be18a6a34f8ef1ee4d9fbf4cb0f6c090","src/valid/interface.rs":"391270b54e60dd16ea081d4f3a0aadf6f267c6be86d66ab85ace31c345f1805c","src/valid/mod.rs":"554b5479686f308c999c57e6a9dc91b19d12df15995b9cf9913590517cb79aba","src/valid/type.rs":"ea2b54cd56d1aedd8e627a4e2ddcec9678760571d6aedd853d739449cd479a21"},"package":null}
diff --git a/third_party/rust/naga/Cargo.toml b/third_party/rust/naga/Cargo.toml
index 352ad98..5580fb6 100644
--- a/third_party/rust/naga/Cargo.toml
+++ b/third_party/rust/naga/Cargo.toml
@@ -9,7 +9,6 @@ repository = "https://github.com/gfx-rs/naga/tree/v0.5"
 keywords = ["shader", "SPIR-V", "GLSL", "MSL"]
 license = "MIT OR Apache-2.0"
 exclude = ["bin/**/*", "tests/**/*", "Cargo.lock", "target/**/*"]
-resolver = "2"
 
 [package.metadata.docs.rs]
 all-features = true
diff --git a/third_party/rust/wgpu-core/.cargo-checksum.json b/third_party/rust/wgpu-core/.cargo-checksum.json
index c738824..6457f05 100644
--- a/third_party/rust/wgpu-core/.cargo-checksum.json
+++ b/third_party/rust/wgpu-core/.cargo-checksum.json
@@ -1 +1 @@
-{"files":{"Cargo.toml":"ca0e2da4193592b877e2b742d0cda35aa103bd066bb541c20c033bbb360427e2","build.rs":"a1f574832b0862cf6294745676a953dfbabc4a91a78c2bf447aeb2ead839a8ab","src/binding_model.rs":"d1eaf002429a4154f88d2644bab18daae7819b0ac81b1f264304dd8e4b69113a","src/command/bind.rs":"40eb6d1324d0780121c599d040a3d65e4242d8a70a3908336aab63edc5f03a35","src/command/bundle.rs":"05bfa4dba2c8f7c186cdd385b8517575fdb1baa7349411cb12eec2750dd9c2f5","src/command/clear.rs":"69c6ef43af63a0f94a4f57bad55e8c1b2ec35773ca542be52977a39aca11703c","src/command/compute.rs":"4ed5a9a6ac758842daf9a6c7b4ddb1788f8da07bd876c85d511553e7a8b35021","src/command/draw.rs":"79df6f090cf5132e2d49229b61885f705ea64cf90d054824d2433311e606524d","src/command/mod.rs":"664c4c170e367a5df132068117e0e650e14848bfc1b2fd00637b9f50037a4b39","src/command/query.rs":"18659df22356493697ce1c5b56fe2ca0e2f3f1ef29bdf00d65f064eeecba5130","src/command/render.rs":"7b67a7b36009c4b492569a00c775c71dd372b90829c72c2c4e9ac900cda46f66","src/command/transfer.rs":"67cedbc80fe2444f6ed05cb40cebdaa66a2704607c4600cb806d771dc2102141","src/conv.rs":"fc529b9b62fa64a2c12e313b8609d4a838e27384382bf3fb5008d3894e8aa034","src/device/life.rs":"e0d0a0dc555868fec03642117e76e7b1724d330528a72ed6b42817317c51d7db","src/device/mod.rs":"f976207be7418b45df65ea7d51092821dd847e8e4cc4a858978cf94e43c758fa","src/device/queue.rs":"5b2b54c2342f9258eb6052e32a24cabd45b399c4adae4059906a22cd5f9c791a","src/device/trace.rs":"356cad8a6c203abbeb172cc26e3de49c55aa809f2cf7313e2851f386390ffd2d","src/error.rs":"34a4adbb6ec669d8de22b932363506eeef1b1115c422bcc8daa3b26f62378518","src/hub.rs":"5d3a53bf29ef77e3bccb82cb0716919ce3ce39edfc89a8fb126cb7b00af9e6c4","src/id.rs":"b8a834c2f508b52b581345a68ccd56726296f3e7c36a4b6b77b3d6531084b645","src/init_tracker/buffer.rs":"ccdddaace101f921463bf6c62ed5aca01a6520717a850b5d4442c3551e9f1875","src/init_tracker/mod.rs":"672d446a025115c30330703677eed9ac4756e2ac663bba3449bf77d6e5386194","src/instance.rs":"9a8b087ed82116aa628f86a5df7f2fa3d207670a2b3b8273edd71f8dda2031ab","src/lib.rs":"ddb9faa47bd63dd74ac8f281fc7ef86602f4a46542a1a32a99beccd9b17bee1b","src/macros.rs":"431a61e3a28f9bdef5a593e21d02c39f242ca304b93644ead628a9c64512087c","src/pipeline.rs":"3cec8edd4ef6b94022a69019b2cf99e3d0118e26c6c036d8e6978ed214b939e1","src/present.rs":"f19a95c8f7eac3b99268528798f4f1580ff4c3e7afafb1a5a19a46e192140c10","src/resource.rs":"c17c21338e0537de0b14b5c869a4c71aff2d79680c4b59b536541233790a74d3","src/track/buffer.rs":"27985c5118bd36e80f999483a1c32383220174a6e5ee936ad9f010f7eacf03b0","src/track/mod.rs":"b0e2d8300c70270a27dd2b69c84950d9d9342c13b73b549d34be81ef4002e2b3","src/track/range.rs":"d24340a235103fd18e740236ebfe59b434023bc07abaeebc11c4d7b44057e267","src/track/texture.rs":"f64028e06c215d7dc9d1ac293acbcc40e88b9dbf7eb0e010214f0327d4569794","src/validation.rs":"8d6a785e0377c59f109ab00f0f44bd2bc73cb05f32777afed52dd43e4c64cab2"},"package":null}
\ No newline at end of file
+{"files":{"Cargo.toml":"89c33ba155c6cda58e1b639be1342cfbdd421643a93e16539e84f84e01838e9e","build.rs":"a1f574832b0862cf6294745676a953dfbabc4a91a78c2bf447aeb2ead839a8ab","src/binding_model.rs":"d1eaf002429a4154f88d2644bab18daae7819b0ac81b1f264304dd8e4b69113a","src/command/bind.rs":"40eb6d1324d0780121c599d040a3d65e4242d8a70a3908336aab63edc5f03a35","src/command/bundle.rs":"05bfa4dba2c8f7c186cdd385b8517575fdb1baa7349411cb12eec2750dd9c2f5","src/command/clear.rs":"69c6ef43af63a0f94a4f57bad55e8c1b2ec35773ca542be52977a39aca11703c","src/command/compute.rs":"4ed5a9a6ac758842daf9a6c7b4ddb1788f8da07bd876c85d511553e7a8b35021","src/command/draw.rs":"79df6f090cf5132e2d49229b61885f705ea64cf90d054824d2433311e606524d","src/command/mod.rs":"664c4c170e367a5df132068117e0e650e14848bfc1b2fd00637b9f50037a4b39","src/command/query.rs":"18659df22356493697ce1c5b56fe2ca0e2f3f1ef29bdf00d65f064eeecba5130","src/command/render.rs":"7b67a7b36009c4b492569a00c775c71dd372b90829c72c2c4e9ac900cda46f66","src/command/transfer.rs":"67cedbc80fe2444f6ed05cb40cebdaa66a2704607c4600cb806d771dc2102141","src/conv.rs":"fc529b9b62fa64a2c12e313b8609d4a838e27384382bf3fb5008d3894e8aa034","src/device/life.rs":"e0d0a0dc555868fec03642117e76e7b1724d330528a72ed6b42817317c51d7db","src/device/mod.rs":"f976207be7418b45df65ea7d51092821dd847e8e4cc4a858978cf94e43c758fa","src/device/queue.rs":"5b2b54c2342f9258eb6052e32a24cabd45b399c4adae4059906a22cd5f9c791a","src/device/trace.rs":"356cad8a6c203abbeb172cc26e3de49c55aa809f2cf7313e2851f386390ffd2d","src/error.rs":"34a4adbb6ec669d8de22b932363506eeef1b1115c422bcc8daa3b26f62378518","src/hub.rs":"5d3a53bf29ef77e3bccb82cb0716919ce3ce39edfc89a8fb126cb7b00af9e6c4","src/id.rs":"b8a834c2f508b52b581345a68ccd56726296f3e7c36a4b6b77b3d6531084b645","src/init_tracker/buffer.rs":"ccdddaace101f921463bf6c62ed5aca01a6520717a850b5d4442c3551e9f1875","src/init_tracker/mod.rs":"672d446a025115c30330703677eed9ac4756e2ac663bba3449bf77d6e5386194","src/instance.rs":"9a8b087ed82116aa628f86a5df7f2fa3d207670a2b3b8273edd71f8dda2031ab","src/lib.rs":"ddb9faa47bd63dd74ac8f281fc7ef86602f4a46542a1a32a99beccd9b17bee1b","src/macros.rs":"431a61e3a28f9bdef5a593e21d02c39f242ca304b93644ead628a9c64512087c","src/pipeline.rs":"3cec8edd4ef6b94022a69019b2cf99e3d0118e26c6c036d8e6978ed214b939e1","src/present.rs":"f19a95c8f7eac3b99268528798f4f1580ff4c3e7afafb1a5a19a46e192140c10","src/resource.rs":"c17c21338e0537de0b14b5c869a4c71aff2d79680c4b59b536541233790a74d3","src/track/buffer.rs":"27985c5118bd36e80f999483a1c32383220174a6e5ee936ad9f010f7eacf03b0","src/track/mod.rs":"b0e2d8300c70270a27dd2b69c84950d9d9342c13b73b549d34be81ef4002e2b3","src/track/range.rs":"d24340a235103fd18e740236ebfe59b434023bc07abaeebc11c4d7b44057e267","src/track/texture.rs":"f64028e06c215d7dc9d1ac293acbcc40e88b9dbf7eb0e010214f0327d4569794","src/validation.rs":"8d6a785e0377c59f109ab00f0f44bd2bc73cb05f32777afed52dd43e4c64cab2"},"package":null}
diff --git a/third_party/rust/wgpu-core/Cargo.toml b/third_party/rust/wgpu-core/Cargo.toml
index 0c57bf1..01227b8 100644
--- a/third_party/rust/wgpu-core/Cargo.toml
+++ b/third_party/rust/wgpu-core/Cargo.toml
@@ -50,15 +50,8 @@ path = "../wgpu-hal"
 package = "wgpu-hal"
 version = "0.10.1"
 
-[target.'cfg(all(not(target_arch = "wasm32"), any(target_os = "ios", target_os = "macos")))'.dependencies]
-hal = { path = "../wgpu-hal", package = "wgpu-hal", version = "0.10", features = ["metal"] }
-#Note: could also enable "vulkan" for Vulkan Portability
-
 [target.'cfg(all(not(target_arch = "wasm32"), unix, not(target_os = "ios"), not(target_os = "macos")))'.dependencies]
 hal = { path = "../wgpu-hal", package = "wgpu-hal", version = "0.10", features = ["vulkan", "gles", "renderdoc"] }
 
-[target.'cfg(all(not(target_arch = "wasm32"), windows))'.dependencies]
-hal = { path = "../wgpu-hal", package = "wgpu-hal", version = "0.10", features = ["vulkan", "dx12", "renderdoc"] }
-
 [build-dependencies]
 cfg_aliases = "0.1"
